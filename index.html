<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wheels on Fire ‚Äî Find Your Perfect Car</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Shared stylesheet -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a class="skip-link" href="#maincontent">Skip to main content</a>

  <header class="site-header" role="banner">
    <div class="container header-inner">
      <h1 class="site-title">Wheels on Fire</h1>
      <p class="site-tagline">John O'Reilly ‚Äî sarcasm sold separately. Helping you find the perfect car.</p>

      <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <ul>
          <li><a href="index.html" aria-current="page">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="maincontent" class="container" role="main">
    <section class="hero" aria-labelledby="hero-heading">
      <div class="hero-left">
        <h2 id="hero-heading">Find the car that sparks joy (and maybe a little petrol envy)</h2>
        <p>At <strong>Wheels on Fire</strong>, John helps you narrow the field ‚Äî no nonsense, clear labels, and a few dry jokes to keep things fun.</p>

        <ul class="features-list">
          <li><strong>Clear filters:</strong> price, style, fuel type, reliability ‚Äî labeled and keyboard friendly.</li>
          <li><strong>Color-blind aware:</strong> icons+text, not color-only indicators.</li>
          <li><strong>Accessible images:</strong> alt text and descriptive captions.</li>
        </ul>
      </div>

      <figure class="hero-image" aria-hidden="false">
        <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=1200&q=80"
            alt="Three cars parked side by side: a compact city car, a sedan, and an SUV in neutral tones" />
        <figcaption>Pick your type ‚Äî city, sedan, or rugged SUV.</figcaption>
      </figure>
    </section>

    <section class="search-panel" aria-labelledby="search-heading">
      <h3 id="search-heading">Quick car finder</h3>
      <form class="finder" action="#" method="get" aria-describedby="finder-desc">
        <p id="finder-desc" class="sr-only">
          Use these controls to filter vehicles. Selections are labeled and show text icons.
        </p>

        <label for="model">Model</label>
        <select id="model" name="model" aria-label="Car model">
          <option value="">Any</option>
        </select>

        <label for="type">Body type</label>
        <select id="type" name="type" aria-label="Body type">
          <option value="">Any</option>
          <option value="city">City car ‚Äî small</option>
          <option value="sedan">Sedan ‚Äî comfortable</option>
          <option value="suv">SUV ‚Äî spacious</option>
        </select>

        <fieldset>
          <legend>Fuel type (choose one)</legend>
          <label class="check">
            <input type="radio" name="fuel" value="petrol" checked />
            <span class="icon" aria-hidden="true">‚õΩ</span> Petrol
          </label>
          <label class="check">
            <input type="radio" name="fuel" value="diesel" />
            <span class="icon" aria-hidden="true">üõ¢Ô∏è</span> Diesel
          </label>
          <label class="check">
            <input type="radio" name="fuel" value="ev" />
            <span class="icon" aria-hidden="true">üîå</span> Electric / Hybrid
          </label>
        </fieldset>

        <button type="submit" class="btn">Find cars</button>
      </form>
    </section>

    <section class="results" id="results">
      <h3>Results</h3>
      <div id="car-results" class="results-grid"></div>
    </section>

    <section class="about-sample" aria-labelledby="about-sample-heading">
      <h3 id="about-sample-heading">Why John?</h3>
      <p>John‚Äôs experience finding cars for friends means you get honest guidance ‚Äî a wink, a pun, and practical tips. He‚Äôs got preferences, but the choices are yours. (Yes, he will make one sarcastic remark about SUVs. He can‚Äôt help it.)</p>
      <p><a href="contact.html">Ask John a question ‚Üí</a></p>
    </section>
  </main>

  <footer role="contentinfo" class="site-footer">
    <div class="container">
      <p>¬© <span id="year"></span> Wheels on Fire ‚Äî Created by John O'Reilly. <span class="visually-hidden">This site uses accessible markup and color-blind friendly design.</span></p>
    </div>
  </footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    // ‚úÖ Car data ‚Äî all with direct image URLs (no Google redirect links)
    const cars = [
      {
        name: "Ford Fiesta",
        type: "city",
        fuel: "petrol",
        price: 12000,
        image: ""
      },
      {
        name: "Toyota Corolla",
        type: "sedan",
        fuel: "petrol",
        price: 18000,
        image: "https://upload.wikimedia.org/wikipedia/commons/4/4a/2020_Toyota_Corolla_Icon_Tech_VVT-i_HEV_CVT_1.8_Front.jpg"
      },
      {
        name: "Hyundai Tucson",
        type: "suv",
        fuel: "diesel",
        price: 25000,
        image: "https://upload.wikimedia.org/wikipedia/commons/f/fd/2022_Hyundai_Tucson_Ultimate_PHEV_1.6_Front.jpg"
      },
      {
        name: "Tesla Model 3",
        type: "sedan",
        fuel: "ev",
        price: 38000,
        image: "https://upload.wikimedia.org/wikipedia/commons/6/69/Tesla_Model_3_parked%2C_front_driver_side.jpg"
      },
      {
        name: "Nissan Leaf",
        type: "city",
        fuel: "ev",
        price: 21000,
        image: "https://upload.wikimedia.org/wikipedia/commons/6/6b/2018_Nissan_Leaf_Tekna_Front.jpg"
      }
    ];

    // ‚úÖ Populate dropdown dynamically
    const form = document.querySelector(".finder");
    const resultsContainer = document.getElementById("car-results");
    const modelDropdown = document.getElementById("model");

    const uniqueModels = [...new Set(cars.map(c => c.name))];
    uniqueModels.forEach(model => {
      const opt = document.createElement("option");
      opt.value = model;
      opt.textContent = model;
      modelDropdown.appendChild(opt);
    });

    // ‚úÖ Handle form submission and filtering
    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const selectedModel = form.model.value;
      const type = form.type.value;
      const fuel = form.fuel.value;

      const filtered = cars.filter(car => {
        const matchesModel = selectedModel ? car.name === selectedModel : true;
        const matchesType = type ? car.type === type : true;
        const matchesFuel = fuel ? car.fuel === fuel : true;
        return matchesModel && matchesType && matchesFuel;
      });

      displayResults(filtered);
    });

    // ‚úÖ Display results using <img> and <figure>
    function displayResults(list) {
      if (list.length === 0) {
        resultsContainer.innerHTML = "<p>No cars found. Try different filters.</p>";
        return;
      }

      resultsContainer.innerHTML = list.map(car => `
        <article class="car-card">
          <figure>
            <img src="${car.image}" alt="${car.name}" loading="lazy">
            <figcaption>${car.name}</figcaption>
          </figure>
          <h4>${car.name}</h4>
          <p><strong>Type:</strong> ${car.type}</p>
          <p><strong>Fuel:</strong> ${car.fuel}</p>
          <p><strong>Price:</strong> ‚Ç¨${car.price.toLocaleString()}</p>
        </article>
      `).join("");
    }
  </script>
</body>
</html>
