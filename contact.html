<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Contact — Wheels on Fire</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    /* ✅ Optional styling for success/error boxes */
    .form-message {
      margin-top: 1rem;
      padding: 1rem;
      border-radius: 8px;
      font-weight: 500;
      display: none;
    }
    .form-success {
      background-color: #e6ffed;
      color: #047857;
      border: 1px solid #047857;
    }
    .form-error {
      background-color: #fee2e2;
      color: #b91c1c;
      border: 1px solid #b91c1c;
    }
  </style>
</head>
<body>
  <a class="skip-link" href="#contact-main">Skip to main content</a>

  <header class="site-header" role="banner">
    <div class="container header-inner">
      <h1 class="site-title"><a href="index.html">Wheels on Fire</a></h1>
      <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <ul>
          <li><a href="index.html" aria-current="page">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="contact-main" class="container" role="main">
    <section class="contact-section" aria-labelledby="contact-heading">
      <img 
        src="images/bmw.jpg"
        alt="Close-up of a steering wheel and dashboard, sunlight through windshield"
        style="width:100%; border-radius:8px; margin-bottom:1rem;"
      >
      
      <h2 id="contact-heading">Contact John</h2>
      <p>
        If you have a car question, a suggestion, or a spare part he can borrow (kidding),
        drop John a message below. He promises to answer — probably with a pun.
      </p>

      <!-- ✅ Formspree form -->
      <form
        action="https://formspree.io/f/mblqllej"
        method="POST"
      >
        <label>
          Your email:
          <input type="email" name="email">
        </label>
        <label>
          Your message:
          <textarea name="message"></textarea>
        </label>
        <!-- your other form fields go here -->
        <button type="submit">Send</button>
      </form>

      <!-- ✅ Success and error message containers -->
      <div id="success-box" class="form-message form-success">✅ Message sent! Check your inbox.</div>
      <div id="error-box" class="form-message form-error">❌ Something went wrong. Please try again later.</div>

      <script>
        const form = document.getElementById("contact-form");
        const successBox = document.getElementById("success-box");
        const errorBox = document.getElementById("error-box");

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          successBox.style.display = "none";
          errorBox.style.display = "none";

          const data = new FormData(form);
          const response = await fetch(form.action, {
            method: form.method,
            body: data,
            headers: { 'Accept': 'application/json' }
          });

          if (response.ok) {
            form.reset();
            successBox.style.display = "block";
          } else {
            errorBox.style.display = "block";
          }
        });
      </script>

    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <div class="container">
      <p>© <span id="year"></span> Wheels on Fire — John O'Reilly</p>
    </div>
  </footer>

  <script>
    // update footer year automatically
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>
